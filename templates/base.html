<!-- C:\student-performance-system\templates\base.html -->
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>SPPFS</title>
  <style>
  /* Reset: prevent horizontal scroll on body */
  html, body {
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }

  /* Universal table fix */
  table {
    width: 100% !important;
    table-layout: fixed !important; /* distribute width evenly */
    border-collapse: collapse;
  }
  th, td {
    white-space: normal !important;  /* wrap text */
    word-break: break-word !important;
  }
</style>

</head>
<body>
  <header>
    <<!-- templates/base.html -->
<header>
  <nav>
    <a href="{{ url_for('main.index') }}">Home</a> |
    {% if current_user.is_authenticated %}
      Hello, {{ current_user.username }} |
      <a href="{{ url_for('main.dashboard') }}">Dashboard</a> |
      <a href="{{ url_for('auth.logout') }}">Logout</a>
    {% else %}
      <a href="{{ url_for('auth.login') }}">Login</a> |
      <a href="{{ url_for('auth.register') }}">Register</a>
    {% endif %}
  </nav>
</header>

  </header>

  <main>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <ul>
          {% for category, msg in messages %}
            <li><strong>{{ category }}:</strong> {{ msg }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </main>
</body>
</html>
